<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta HTTP-EQUIV="EXPIRES" CONTENT="-1">
        <title>Computing Science 309 Warehouse Wars</title>
        <script language="javascript" src="jquery-3.1.1.min.js" > </script>
        <script language="javascript" src="ww.js" ></script>
        <script language="javascript" src="new.js"></script> 

        <script> 

            stage=null;
            // SOME GLUE CODE CONNECTING THIS PAGE TO THE STAGE
            interval=null;
            function setupGame(go){
                stage=new Stage(20,20,"stage");
                stage.initialize();
            }
            function startGame(){
                // YOUR CODE GOES HERE
                setInterval("stage.step()",2000);
                document.onkeydown = function(e){
                    stage.keysaction(e);
                }
            }
            function pauseGame(){
                // YOUR CODE GOES HERE
            }
            // YOUR CODE GOES HERE

            $(function(){
                //setupGame();
                //startGame();
                toggleLogin(setupGame,startGame);
            });


        </script>
    </head>
  
    <body>
        <!-- Login form-->
        <div name="login" id="login" style="display:">
            <h2>Login Form</h2>
            <form method="post" name="logForm">
                <label><b>Username</b></label>
                <input type="text" id = "uname" placeholder="Enter Username" name="uname" pattern="[a-zA-Z0-9]+" required/>
                <br/><br/>
                <label><b>Password</b></label>
                <input type="password" id = "psw" placeholder="Enter Password" name="psw"/> 
                <br/><br/>          
                <button type="submit" id='log' name="submit">Login</button>  
                <button type="submit" id='reg' name="submit">Register</button>
                
            </form>
        </div>

        <!-- Registration form-->
        <div name="register" id="register" style="display:none">
            <h2>Registration Form</h2>
            <form method="post" name="regForm">
                <label><b>First Name</b></label>
                <input type="text" pattern="[a-zA-Z0-9]+" id="fname" placeholder="First Name" name="fname"/> 
                <br/><br/>
                <label><b>Last Name</b></label>
                <input type="text" pattern="[a-zA-Z0-9]+" id ="lname" placeholder="Last Name" name="lname"/> 
                <br/><br/>
                <label><b>Username</b></label>
                <input type="text" pattern="[a-zA-Z0-9]+" id = "username" placeholder="Enter Username" name="regUname"/>
                <br/><br/>
                <label><b>Password</b></label>
                <input type="password" pattern="[a-zA-Z0-9]+" id = "passwd" placeholder="Enter Password" name="regPsw"/> 
                <br/><br/>
                <label><b>Email</b></label>
                <input type="email" id = "email" placeholder="Enter Email" name="email"/> 
                <br/><br/>        
                <button type="submit" id='backLog' name="submit">Back</button>  
                <button type="submit" id='toGame' name="submit">Next</button>
                
            </form>
        </div>

        


        <div id="game" style="display:none">
            <style>
                /* style parts of the legend, the controls and the elements in the stage appropriately */
                .table {
                    border: 1px solid black;
                    table-layout: fixed;
                    width: 200px;
                    padding:0; 
                    margin:0;
                    border-collapse: collapse


                }

                .game {
                    width:20px; 
                    height:20px;
                    max-width:5px;
                    max-height:5px; 
                    padding:0; 
                    margin:0;
                    text-align: center;
                    border: 1px solid black;
                    margin-left: auto;
                    margin-right: auto;
                    border-collapse: collapse;
                    **overflow:hidden;** /*(Optional)This might be useful for some overflow contents*/   
                }
                .autosize {
                    max-width: 100%;
                    height: auto;
                    width: auto;
                }
            </style>
            <body bgcolor="ffffff">
                <center>
                    <h1>Warehouse Wars</h1>
                    <table>
                        <tr>
                            <td> <div id="stage"> </div></td> 
                            <td>
                                <center>
                                    <h2>Legend</h2>
                                    <table class="legend">
                                        <tr>
                                            <td> <img src="icons/blank.gif" id="blankImage" /> </td>
                                            <td> <img src="icons/emblem-package-2-24.png" id="boxImage" /> </td>
                                            <td> <img src="icons/face-cool-24.png" id="playerImage" /> </td>
                                            <td> <img src="icons/face-devil-grin-24.png" id="monsterImage" /> </td>
                                            <td> <img src="icons/wall.jpeg" id="wallImage" /> </td>
                                        </tr>
                                        <tr>
                                            <td> Empty <br/> Square </td>
                                            <td> Box </td>
                                            <td> Player </td>
                                            <td> Monster </td>
                                            <td> Wall </td>
                                        </tr>
                                    </table>
                                    <h2>Controls</h2>
                                    <table class="controls">
                                        <tr>
                                            <td><img src="icons/north_west.svg"  onclick = "stage.playeraction('NW')" /></td>
                                            <td><a class="up"><img src="icons/north.svg" onclick = "stage.playeraction('N')" ></td>
                                            <td><img src="icons/north_east.svg"  onclick = "stage.playeraction('NE')" /></td>
                                        </tr>
                                        <tr>
                                            <td><a class="left"><img src="icons/west.svg"  onclick = "stage.playeraction('W')" /></td>
                                            <td>&nbsp;</td>
                                            <td><a class="right"><img src="icons/east.svg "   onclick = "stage.playeraction('E')"/></td>
                                        </tr>
                                        <tr>
                                            <td><img src="icons/south_west.svg"  onclick = "stage.playeraction('SW')"/></td>
                                            <td><a class="down"><img src="icons/south.svg"  onclick = "stage.playeraction('S')" /></td>
                                            <td><img src="icons/south_east.svg"  onclick = "stage.playeraction('SE')" /></td>
                                        </tr>
                                    </table>
                                </center>
                            </td>
                        </tr>
                    </table>
                </center>
            </body>
        </div>
    </body>
</html>


